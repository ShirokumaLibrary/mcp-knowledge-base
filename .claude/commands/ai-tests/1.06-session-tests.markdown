# Session Management Tests

Test work session operations using the unified API.

Note: Session-specific tools (create_session, get_sessions, etc.) have been deprecated. Use the unified create_item/get_items tools with type="sessions".

## Test 6.1: Session Creation

### Create Morning Session
```
Tool: create_item
Parameters: {
  type: "sessions",
  title: "Morning Development Session",
  content: "## Tasks Completed\n- Fixed authentication bug\n- Added unit tests\n- Updated documentation\n\n## Notes\n- Special character handling was tricky\n- Need to review edge cases",
  tags: ["development", "morning"],
  related: ["issues-1", "issues-2"]
}
Expected: JSON response { data: { ... } } containing:
- data.id: timestamp ID (YYYY-MM-DD-HH.MM.SS.sss)
- data.related: ["issues-1", "issues-2"] (unified field)
- data.related_tasks: ["issues-1", "issues-2"] (backward compatibility)
- data.related_documents: [] (backward compatibility)
```

### Create Session with Custom DateTime
```
Tool: create_item
Parameters: {
  type: "sessions",
  title: "Yesterday's Review Session",
  content: "Reviewed pull requests and provided feedback",
  datetime: "2025-01-14T15:30:00",
  tags: ["review"]
}
Expected: JSON response { data: { ... } } with custom timestamp ID
```

## Test 6.2: Session Retrieval

### Get Today's Sessions
```
Tool: get_items
Parameters: {
  type: "sessions"
}
Expected: JSON response { data: [...] } containing today's sessions
```

### Get Sessions by Date Range
```
Tool: get_items
Parameters: {
  type: "sessions",
  start_date: "2025-01-14",
  end_date: "2025-01-15"
}
Expected: JSON response { data: [...] } containing sessions within date range
```

### Get Latest Session
```
Tool: get_items
Parameters: {
  type: "sessions",
  limit: 1
}
Expected: JSON response { data: [...] } with most recent session
```

### Get Session Detail
```
Tool: get_item_detail
Parameters: {
  type: "sessions",
  id: "<session-id-from-creation>"
}
Expected: JSON response { data: { ... } } with full session object
```

## Test 6.3: Session Updates

### Update Session Content
```
Tool: update_item
Parameters: {
  type: "sessions",
  id: "<session-id>",
  content: "## Tasks Completed\n- Fixed authentication bug\n- Added unit tests\n- Updated documentation\n- Added integration tests\n\n## Notes\n- All tests passing\n- Ready for deployment"
}
Expected: JSON response { data: { ... } } with updated session content
```

### Add Tags to Session
```
Tool: update_item
Parameters: {
  type: "sessions",
  id: "<session-id>",
  tags: ["development", "morning", "completed"]
}
Expected: JSON response { data: { ... } } with updated tags
```

## Test 6.4: Session Search

### Search Sessions by Tag (Deprecated Method)
```
Tool: search_sessions_by_tag (DEPRECATED - use search_items_by_tag)
Parameters: {tag: "development"}
Expected: JSON response { data: [...] } containing sessions with "development" tag
```

### Search Sessions by Tag (Alternative)
```
Tool: search_items_by_tag
Parameters: {tag: "development", types: ["sessions"]}
Expected: JSON response { data: [...] } containing sessions with "development" tag
```