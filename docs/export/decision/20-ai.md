# AIコマンド役割再定義の提案

## Metadata

- **ID**: 20
- **Type**: decision
- **Status ID**: 14
- **Priority**: HIGH
- **Created**: Fri Aug 22 2025 22:32:41 GMT+0900 (Japan Standard Time)
- **Updated**: Fri Aug 22 2025 22:32:41 GMT+0900 (Japan Standard Time)

## Description

ai-go, ai-design, ai-codeの3つのコマンドの役割を明確に分離し、重複を解消する

## Content

## 現状の問題点

### 役割の重複
1. **ai-go**: 万能コマンド（設計、実装、テスト、レビューすべてを実行）
2. **ai-design**: 設計専用コマンド
3. **ai-code**: 実装専用コマンド

ai-goがすべてをカバーするため、ai-design/ai-codeの存在意義が不明確。

## 提案する役割分担

### 1. ai-design（設計専用）
**役割**: 要件分析と技術設計の作成
- 問題の理解と分析
- 解決策の設計
- アーキテクチャの決定
- 実装計画の策定
- **実装には触れない**

### 2. ai-code（実装専用）
**役割**: 承認された設計の実装
- TDD（RED→GREEN→REFACTOR）
- コード実装
- テスト作成
- リファクタリング
- **設計済みの内容のみ実装**

### 3. ai-go（汎用タスク実行）
**新しい役割**: 設計・実装以外の一般的な作業
- バグ修正（小規模、設計不要なもの）
- リファクタリング
- ドキュメント作成
- 設定ファイルの更新
- 依存関係の更新
- テストの追加・修正
- ビルド/デプロイタスク
- データマイグレーション
- パフォーマンス最適化

## 使い分けの基準

### 新機能開発フロー
1. `/ai-design "新機能"` → 設計作成
2. `/ai-code design-XX` → 実装

### 既存コードの修正フロー
- **設計が必要な大規模変更**: ai-design → ai-code
- **設計不要な小規模変更**: ai-go

### その他の作業
- **ドキュメント**: ai-go
- **設定変更**: ai-go
- **テスト追加**: ai-go
- **リファクタリング**: ai-go

## 実装方針

### ai-goの変更点
1. 設計・実装のワークフローを削除
2. 汎用タスク実行に特化
3. 自動でタスクタイプを判定して実行
4. TodoWrite統合は維持

### メリット
1. **明確な責任分離**: 各コマンドの役割が明確
2. **選択の簡素化**: どのコマンドを使うべきか明確
3. **品質向上**: 設計と実装の分離による品質向上
4. **再利用性**: 設計ドキュメントの再利用が可能

## 次のステップ
1. ai-goコマンドから設計・実装ワークフローを削除
2. 汎用タスク用のワークフローを強化
3. ドキュメントを更新
4. 使用例を追加
