# 設計書が技術寄りすぎてユーザー視点の仕様が不明確

## Metadata

- **ID**: 74
- **Type**: issue
- **Status ID**: 14
- **Priority**: MEDIUM
- **Created**: Fri Aug 22 2025 22:32:44 GMT+0900 (Japan Standard Time)
- **Updated**: Fri Aug 22 2025 22:32:44 GMT+0900 (Japan Standard Time)

## Description

技術設計書において実装詳細に偏重し、ユーザーが何をどう使うのかという仕様が不明確になる問題

## Content

# 設計書が技術寄りすぎてユーザー視点の仕様が不明確

## 問題の概要

設計書を作成する際、以下の問題が発生している：

1. **技術実装の詳細に偏重**
   - クラス設計、メソッド定義、型定義などの技術詳細が中心
   - アーキテクチャやデータフローの説明が多い
   - ライブラリ選定や技術的決定の議論が主体

2. **ユーザー視点の欠如**
   - 「何ができるのか」が不明確
   - 「どう使うのか」の具体例が不足
   - エラー時の対処法が技術的すぎる

## 具体例

### 悪い例（技術寄り）
```
ImportManagerクラス：
- parseFrontMatter(): YAMLパーサー実装
- validatePath(): パストラバーサル検証
- トランザクション境界の設計
```

### 良い例（ユーザー視点）
```
インポート機能：
- 何ができる：バックアップファイルの復元
- 使い方：shirokuma-kb import file backup.md
- エラー時：「ファイルが見つかりません」→パスを確認
```

## 影響

1. **実装者の混乱**
   - 何を作るべきかが不明確
   - 仕様と実装の区別がつかない

2. **レビューの困難さ**
   - 機能要件の確認が困難
   - ユーザビリティの評価ができない

3. **保守性の低下**
   - 後から仕様を理解しにくい
   - ドキュメントとしての価値が低い

## 改善案

### 1. 設計書の構成改善
```markdown
1. 機能概要（What）
   - この機能は何をするのか
   - 主な用途とユースケース

2. 使い方（How）
   - コマンド例
   - 設定方法
   - よくある使い方

3. 仕様（Specification）
   - 入力と出力
   - 制限事項
   - エラー処理

4. 技術詳細（Technical）※別セクション
   - アーキテクチャ
   - 実装方針
   - 技術的決定
```

### 2. レビュー観点の追加
- ユーザーストーリーの明確さ
- コマンド例の実用性
- エラーメッセージのわかりやすさ

### 3. テンプレート化
- ユーザー向けセクションのテンプレート作成
- 技術セクションとの明確な分離

## 期待される効果

1. **明確な仕様定義**
   - 実装者が迷わない
   - 機能の範囲が明確

2. **使いやすいドキュメント**
   - ユーザーが理解しやすい
   - 実際の使用方法が明確

3. **効率的な開発**
   - 仕様レビューが容易
   - 実装後の検証が明確

## 関連イシュー

- design-85: インポート機能設計書（改善済み）
- 今後の設計書作成時の指針として活用
