---
id: 10
type: analysis
title: "MCP API完全分析レポート - 全25個のAPI詳細評価"
status: Completed
priority: HIGH
tags: ["analysis","api","cleanup","yagni","documentation","architecture"]
related: [8,13,24,51,52,55,30,33,53,59,96]
keywords: {"api":1,"get_related_items":0.56,"get_stats":0.56,"mcp":0.28,"phase":0.28}
embedding: "gIGAh4CAgoCAiqmGgICIiICAgJOAgI2AgJCxjICAiIaAgoCagICYgICQpIyAgISCgIaAlICAmYCAjpGHgICAgICIgIiAgI6AgIeJgYCAgIKAh4CAgICDgICGlICAgIOGgIiAhICAgICAgaeEgICHg4CFgJCAgIGAgIKygYCAhIc="
createdAt: 2025-08-22T13:32:41.000Z
updatedAt: 2025-08-22T13:32:41.000Z
---

# MCP API完全分析レポート - 全25個のAPI詳細評価

shirokuma-knowledge-base MCPサーバーの全25個のAPIを個別に分析。使用頻度、有用性、問題点、改善提案を記録。

## AI Summary

MCP API完全分析レポート - 全25個のAPI詳細評価 shirokuma-knowledge-base MCPサーバーの全25個のAPIを個別に分析。使用頻度、有用性、問題点、改善提案を記録。 # MCP API完全分析レポート

## 概要
- **総API数**: 25個
- **分析日**: 2025-08-14
- **プロジェクト**: shirokuma-knowledge-b

# MCP API完全分析レポート

## 概要
- **総API数**: 25個
- **分析日**: 2025-08-14
- **プロジェクト**: shirokuma-knowledge-base v0.8.0

## API個別分析

### 1. create_item ✅
- **使用頻度**: 非常に高い（毎セッション複数回）
- **主な用途**: イシュー、知識、セッション、決定事項の作成
- **強み**: AIエンリッチメント自動実行、タグ自動付与
- **問題点**: なし
- **評価**: **必須**

### 2. get_item ✅
- **使用頻度**: 高い
- **主な用途**: アイテム詳細確認
- **強み**: 関連情報を含む包括的な情報取得
- **問題点**: ~~embeddingフィールドの扱い~~ → 解決済み（issue-48）
- **評価**: **必須**

### 3. update_item ✅
- **使用頻度**: 高い
- **主な用途**: ステータス変更、内容更新
- **強み**: 部分更新対応、AIエンリッチメント再実行
- **問題点**: typeフィールド更新不可 → issue-19で対応中
- **評価**: **必須**

### 4. delete_item ⚠️
- **使用頻度**: 非常に低い
- **主な用途**: 誤作成の削除、テストデータ削除
- **強み**: カスケード削除対応
- **問題点**: ほとんど使われない（削除より更新を好む）
- **評価**: **保持**（稀だが必要）

### 5. search_items ✅
- **使用頻度**: 非常に高い
- **主な用途**: 重複チェック、関連検索、キーワード検索
- **強み**: AND/OR対応、日付範囲、フィルター機能
- **問題点**: なし
- **評価**: **必須**

### 6. list_items ✅
- **使用頻度**: 高い
- **主な用途**: オープンイシュー一覧、タイプ別一覧
- **強み**: 多様なフィルタリング、ソート対応
- **問題点**: なし
- **評価**: **必須**

### 7. get_related_items ✅
- **使用頻度**: 中程度
- **主な用途**: 関連知識の取得、コンテキスト拡張
- **強み**: 複数戦略（keywords, concepts, embedding, hybrid）
- **問題点**: 複雑なパラメータ
- **評価**: **必須**（簡素化検討）

### 8. add_relations ✅
- **使用頻度**: 高い
- **主な用途**: アイテム間の関連付け
- **強み**: 双方向リレーション自動作成
- **問題点**: なし
- **評価**: **必須**

### 9. remove_relations ❌
- **使用頻度**: ゼロ
- **主な用途**: リレーション削除
- **想定**: 誤った関連の修正
- **問題点**: 使用実績なし
- **評価**: **削除候補**

### 10. get_current_state ✅
- **使用頻度**: 高い（セッション開始時）
- **主な用途**: コンテキスト復元、状態確認
- **強み**: ハンドオーバー機能の中核
- **問題点**: なし
- **評価**: **必須**

### 11. update_current_state ✅
- **使用頻度**: 高い（セッション終了時）
- **主な用途**: ハンドオーバー情報保存
- **強み**: セッション継続性の確保
- **問題点**: なし
- **評価**: **必須**

### 12. get_stats 📊
- **使用頻度**: 低い
- **主な用途**: プロジェクト統計確認
- **強み**: 全体像の把握
- **問題点**: 必要な場面が限定的
- **評価**: **保持**

### 13. get_type_stats ❌
- **使用頻度**: ゼロ
- **主な用途**: タイプ別詳細統計
- **想定**: レポート生成
- **問題点**: get_statsで十分
- **評価**: **削除候補**（get_statsに統合）

### 14. get_tags 📊
- **使用頻度**: 低い
- **主な用途**: タグ管理、使用状況確認
- **強み**: タグの整理に有用
- **問題点**: 頻繁には不要
- **評価**: **保持**

### 15. suggest_tags ❌
- **使用頻度**: ゼロ
- **主な用途**: タグ入力補完
- **想定**: UI向け機能
- **問題点**: AIが自動でタグ付け
- **評価**: **削除候補**

### 16. find_shortest_path ❌
- **使用頻度**: ゼロ
- **主な用途**: アイテム間の経路探索
- **想定**: 複雑な関連性の分析
- **問題点**: 実用的な用途なし
- **評価**: **削除候補**

### 17. find_similar_items ❌
- **使用頻度**: ゼロ
- **主な用途**: 埋め込みベース類似検索
- **想定**: 意味的類似の発見
- **問題点**: get_related_itemsで代替可能
- **評価**: **削除候補**（get_related_itemsに統合）

### 18. get_graph_stats ❌
- **使用頻度**: ゼロ
- **主な用途**: グラフ構造分析
- **想定**: ネットワーク健全性評価
- **問題点**: 専門的すぎて理解困難
- **評価**: **削除候補**

### 19. find_hub_nodes ❌
- **使用頻度**: ゼロ
- **主な用途**: 中心ノード発見
- **想定**: 重要アイテムの特定
- **問題点**: 小規模では無意味
- **評価**: **削除候補**

### 20. find_isolated_nodes ❌
- **使用頻度**: ゼロ
- **主な用途**: 孤立ノード検出
- **想定**: 品質管理
- **問題点**: 孤立していても問題なし
- **評価**: **削除候補**

### 21. find_clusters ❌
- **使用頻度**: ゼロ
- **主な用途**: クラスター検出
- **想定**: トピックグループ発見
- **問題点**: typeとtagで既に分類
- **評価**: **削除候補**

### 22. save_checkpoint ❌
- **使用頻度**: ゼロ
- **主な用途**: スナップショット保存
- **想定**: バックアップ機能
- **問題点**: Gitで十分
- **評価**: **削除候補**

### 23. list_checkpoints ❌
- **使用頻度**: ゼロ
- **主な用途**: チェックポイント一覧
- **想定**: 復元ポイント管理
- **問題点**: 使用シナリオなし
- **評価**: **削除候補**

### 24. change_item_type ⚠️
- **使用頻度**: 未実装？
- **主な用途**: アイテムタイプ変更
- **想定**: 分類の修正
- **問題点**: update_itemで対応検討中
- **評価**: **統合検討**

### 25. index_codebase ⚠️
- **使用頻度**: 未実装？
- **主な用途**: コードベース検索
- **想定**: コード連携
- **問題点**: 実装状況不明
- **評価**: **要確認**

## 統計サマリー

### 使用頻度による分類
| カテゴリ | 個数 | 割合 | API |
|---------|------|------|-----|
| 必須（高頻度） | 8 | 32% | create, get, update, search, list, add_relations, get/update_current_state |
| 有用（低頻度） | 4 | 16% | delete, get_related_items, get_stats, get_tags |
| 未使用 | 11 | 44% | グラフ分析系、チェックポイント系、等 |
| 不明 | 2 | 8% | change_item_type, index_codebase |

### 問題の種類
1. **オーバーエンジニアリング**: グラフ分析系（6個）
2. **重複機能**: 統計系、類似検索（3個）
3. **不要機能**: チェックポイント系（2個）
4. **未実装/不明**: 2個

## 改善提案

### Phase 1: 即座の対応
1. **削除対象（11個）**
   - remove_relations
   - get_type_stats → get_statsに統合
   - suggest_tags
   - find_shortest_path
   - find_similar_items → get_related_itemsに統合
   - get_graph_stats
   - find_hub_nodes
   - find_isolated_nodes
   - find_clusters
   - save_checkpoint
   - list_checkpoints

### Phase 2: 統合・簡素化
1. **get_related_items**の簡素化
   - 複雑なパラメータを削減
   - デフォルト値の最適化

2. **統計API統合**
   ```typescript
   get_stats({
     detail_level: 'basic' | 'detailed' | 'by_type'
   })
   ```

### Phase 3: ドキュメント改善
1. **使用例の充実**
   - 必須8APIの実践的な例
   - ベストプラクティス

2. **API選択ガイド**
   - 「〇〇したい時は△△API」形式

## 結論

### 現状の問題
- **44%が未使用**: 明らかなオーバーエンジニアリング
- **複雑性**: 25個は多すぎる
- **メンテナンスコスト**: 未使用APIの保守負担

### 理想的なAPI構成
- **コアAPI**: 8-10個（CRUD + 基本機能）
- **拡張API**: 2-3個（統計、高度な検索）
- **合計**: 10-13個（現在の半分）

### アクションアイテム
1. ✅ 未使用APIの削除（-11個）
2. ⬜ API統合による簡素化（-2個）
3. ⬜ ドキュメントの充実
4. ⬜ 使用統計の自動収集機能追加

**「シンプル・イズ・ベスト」**の原則に従い、実際に使われている機能に集中すべき。
